{% extends 'base.html.twig' %}

{% block title 'Books' %}

{% block body %}
    <div class="example-wrapper text-center">
        <h1>Available books</h1>

        <section class="row row-cols-3 mt-5">
            {% for book in books %}
                <div class="col">
                    <a href="{{ path('app_book_show', {'id': book.id}) }}">
                        <div class="card w-75 m-auto">
                            <img src="{{ book.cover }}" alt="no image">
                            <div class="card-img-overlay text-white">
                                <h5 class="card-title">{{ book.title }}</h5>
                                <p class="card-text">Edition date: {{ book.editedAt|date('Y/m/d') }}</p>
                            </div>
                        </div>
                    </a>
                </div>
            {% else %}
                <p>No books in database yet...</p>
            {% endfor %}
        </section>
        {% set current = app.request.query.get('page', 1) %}
        <nav class="py-5 m-auto">
            <ul class="pagination">
                <li class="page-item{{ current == 1 ? ' disabled' }}">
                    <a class="page-link" href="{{ path('app_book_index', {page: current - 1}) }}">Previous</a>
                </li>
                {% for page in 1..count %}
                    <li class="page-item{{ current == page ? ' active' }}">
                        <a class="page-link" href="{{ path('app_book_index', {page: page}) }}">{{ page }}</a>
                    </li>
                {% endfor %}
                <li class="page-item{{ current == count ? ' disabled' }}">
                    <a class="page-link" href="{{ path('app_book_index', {page: current + 1}) }}">Next</a>
                </li>
            </ul>
        </nav>
    </div>
{% endblock %}
